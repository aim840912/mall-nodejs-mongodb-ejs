<%- include('../includes/header.ejs')%>

<form class="product-form" action="/admin/<% if(editing){ %>edit-product<% } else {%>add-product<% } %>" method="post">

    <%- include('../includes/error-message.ejs') %>

    <div class="form-group">
        <label for="title">產品標題</label>
        <input type="text" class="form-control <%= validationErrors.find(e=>e.param === 'title') ? 'is-invalid' : ''%>" id="title" name="title"
            aria-describedby="titleHelp" value="<% if(editing || hasError ){%><%= product.title %><%}%>">
        <small id="titleHelp" class="form-text text-muted">請輸入標題内容</small>
    </div>

    <div class="form-group">
        <label for="imageUrl">產品圖片</label>
        <input type="text" class="form-control <%= validationErrors.find(e=>e.param === 'imageUrl') ? 'is-invalid' : ''%>" id="imageUrl"
            name="imageUrl" aria-describedby="imageUrlHelp" value="<% if(editing || hasError ){%><%= product.imageUrl %><%}%>">
        <small id="imageUrlHelp" class="form-text text-muted">請輸入產品圖片地址</small>
    </div>

    <div class="form-group">
        <label for="price">產品價格</label>
        <input type="text" class="form-control <%= validationErrors.find(e=>e.param === 'price') ? 'is-invalid' : ''%>" id="price" name="price"
            aria-describedby="priceHelp" value="<% if(editing || hasError ){%><%= product.price %><%}%>">
        <small id="priceHelp" class="form-text text-muted">請輸入產品價格</small>
    </div>

    <div class="form-group">
        <label for="description">產品介绍</label>
        <textarea class="form-control <%= validationErrors.find(e=>e.param === 'description') ? 'is-invalid' : ''%>" id="description"
            name="description" rows="4"><% if(editing || hasError ){%><%= product.description %><%}%></textarea>
        <small id="descriptionHelp" class="form-text text-muted">請輸入產品介绍</small>
    </div>


    <input type="hidden" name="_csrf" value="<%= csrfToken %>" />
        <% if(editing){ %>
        <input type="hidden" name="productId" id="productId" value="<%= product._id %>" />
        <%}%>
    <button type="submit" class="btn btn-primary">
        <% if(editing){%>
        修改產品
        <%  }else{%>
        添加產品
        <%  } %>

        </button>
</form>
<%- include('../includes/footer.ejs')%>